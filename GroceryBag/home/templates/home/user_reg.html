{% extends 'home/homepage.html' %}
{% load static %}


{% block body %}
<div class="main">
    <link rel="stylesheet" href="{% static 'home/css/style.css' %}">
    <section class="signup">
        <!-- <img src="images/signup-bg.jpg" alt=""> -->
            <div class="signup-content">
                <form method="POST" id="sform" >{% csrf_token %}
                    <div class="container" style="border: 1px solid black;
                text-align: center;
                top: 30%;
                position: absolute;
                left: 35%;
                width: 500px;"> 
                    <h2 class="form-title" style="margin-top: 25px;">Create account</h2>
                    <div class="form-group" style="margin-top: 25px;">
                        <input type="text" class="form-input" name="name" id="name" placeholder="Your Name" style="width: 100% !important;" required /><br>
                        <span id="spnfnameStatus"></span>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-input" name="email" id="email" placeholder="Your Email" style="width: 100% !important;" required /><br>
                        <span id="spnemailStatus"></span>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-input" name="password" id="password" placeholder="Password" style="width: 100% !important;" required />
                        <span toggle="#password" class="zmdi zmdi-eye field-icon toggle-password"></span>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-input" name="re_password" id="re_password" placeholder="Repeat your password" style="width: 100% !important;" required />
                        <br><span id="spnpwd"></span>
                    </div>
                    <div class="form-group">
                        <input type="submit" name="fsubmit" id="fsubmit" class="form-submit" value="Sign up"/>
                    </div>
            </div>
                </form>
        </div>
    </section>

</div>
<script>

$(window).load(function() {
        $(document).ready(function() {

            $('#name').blur(function (e) {
				if (validateName('name')) {
					$('#spnfnameStatus').html('');
					
				} else {
				$('#spnfnameStatus').html('Invalid First Name');
				$('#spnfnameStatus').css('color', 'red');

				}
            });
            $('#email').blur(function (e) {
                if (IsEmail('email')) {
                    $('#spnemailStatus').html('');
                    
                } else {
                    $('#spnemailStatus').html('Invalid Email');
                    $('#spnemailStatus').css('color', 'red');

                }
            });
			

                if (flag == 0) {
                    return false;
                }

            });
        });
    $("#fsubmit").click(function(e){

        e.preventDefault();
        var flag = 1;
        if (IsEmail('email') == false) {
                    $('#spnemailStatus').html('Invalid Email');
                    $('#spnemailStatus').css('color', 'red');
                    var flag = 0;
                }
         if (validateName('name')) {
                    //
                } else {
                    $('#spnfnameStatus').html('Invalid Name');
                    $('#spnfnameStatus').css('color', 'red');
                    var flag = 0;

                }
        if($('#re_password').val()!=$('#password').val())
			   {
				   $('#spnpassStatus').html('Password Missmatch');
                   $('#spnpassStatus').css('color', 'red');
				   flag=0;
				}
                if(flag==1)
                {		
                    $('#sform').submit();
                }

    });

    function validateName(name) {
            var a = document.getElementById(name).value;
            var filter = /[a-zA-Z ]+[a-zA-Z]$/;
            if (filter.test(a)) {
                return true;
            } else {
                return false;
            }
        }
        function IsEmail(email) {
            var a = document.getElementById(email).value;
            var regex = /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            if (!regex.test(a)) {
                return false;
            } else {
                return true;
            }
        }
</script>
{% endblock %}